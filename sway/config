# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                  Basic                                              #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# ä¸»é”®(Mod1=<Alt>,Mod4=<Super>)
set $mod   Mod4
#set $term  xfce4-terminal
set $term  alacritty
set $menu  rofi -show drun -theme config
set $screenshot grim Pictures/$(date +%Y-%m-%d-%H:%M:%S).jpeg -t jpeg
set $left  h
set $down  j
set $up    k
set $right l

# çª—å£
set $ws1 1:ğŸ› Term
set $ws2 2:â™¨ Edit
set $ws3 3:ğŸ” Browser
set $ws4 4:ğŸ’» Vbox
set $ws5 5:ğŸ“º Video
set $ws6 6:ğŸ¶ Music
set $ws7 7:ğŸ•¸
set $ws8 8:ğŸ® Game
set $ws9 9:HDMI
set $ws0 10:ğŸ•¸ OBS
set $wsNULL Null

# å›¾ç‰‡
set $img_bg     ~/Pictures/bg/024.jpg
set $img_lock   swaylock -e -F -i ~/Pictures/bg/023.jpg

# åº”ç”¨åœ¨ç‰¹å®šçª—å£å¯åŠ¨
assign [class="VSCodium"] $ws2
assign [class="firefox"] $ws3
assign [class="Chromium"] $ws3
assign [class="netease-cloud-music"] $ws6
assign [class="Steam"] $ws8
assign [class="obs"] $ws0

# æµ®åŠ¨åº”ç”¨
# for_window [class="gedit"] floating enable


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                  Output Display                                     #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# å¤–æ¥æ˜¾ç¤ºå™¨
workspace $ws9 output HDMI-A-1

# è·å–å±å¹•ä¿¡æ¯:swaymsg -t get_outputs
# man 5 sway-output
output * {
	# èƒŒæ™¯
	background $img_bg fill
	# åˆ†è¾¨ç‡
	resolution 1920x1080
	# ç¼©æ”¾
 	scale      0
	# å±å¹•æ—‹è½¬
	transform  0
  # æ˜¾ç¤ºå™¨ç”µæºå¼€å…³
 	# dpms on   
  # æ˜¾ç¤ºå™¨åˆ‡æ¢
 	# toggle    
}

output eDP-1 {

}

output HDMI-A-1 {

}

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                        Input                                        #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# swaymsg -t get_inputs
# man 5 sway-input

# è§¦æ‘¸æ¿è®¾ç½®
input "2:14:ETPS/2_Elantech_Touchpad" {
  dwt              enabled
  tap              enabled
  # è‡ªç„¶æ»šåŠ¨æ–¹å¼
  natural_scroll   disenabled
  middle_emulation enabled
  # çµæ•åº¦
  pointer_accel    1
  # ç¿»é¡µé€Ÿåº¦
  scroll_factor 5
  # æ‰‹æŒ‡æ˜ å°„
  # lrm:1ä¸ªæ‰‹æŒ‡è§†ä¸ºå·¦å‡»ï¼Œ2ä¸ªæ‰‹æŒ‡è§†ä¸ºå³å‡»ï¼Œ3ä¸ªæ‰‹æŒ‡è§†ä¸ºä¸­å‡» 
  # lmr:1æŒ‡è§†ä¸ºå·¦å‡»ï¼Œ2æŒ‡è§†ä¸ºä¸­é”®å•å‡»ï¼Œ3æŒ‡è§†ä¸ºå³å‡»
  tap_button_map lrm
}

# æŒ‡ç‚¹æ†
input "2:14:ETPS/2_Elantech_TrackPoint" {
  tap              enabled
  # è‡ªç„¶æ»šåŠ¨æ–¹å¼
  natural_scroll   disenabled
  # çµæ•åº¦
  pointer_accel    1
  # ç¿»é¡µé€Ÿåº¦
  scroll_factor 5
}

# é”®ç›˜è®¾ç½®
# man 7 xkeyboard-config
input "6058:20564:Thinkpad_Extra_Buttons" {
  # é”®ç›˜å¸ƒå±€
  xkb_layout   us,de
  xkb_variant  ,nodeadkeys
  xkb_options  grp:alt_shift_toggle
  # å¯ç”¨CapsLock
  xkb_capslock enabled
  # å¯ç”¨NumLock
  xkb_numlock enabled
  # é”®ç›˜é‡å¤å»¶è¿Ÿé€Ÿç‡
  repeat_delay 500
  repeat_rate  5

  # å°†è¾“å…¥æ˜ å°„åˆ°æŒ‡å®šçš„è¾“å‡ºã€‚åªæœ‰å½“è®¾å¤‡æ˜¯æŒ‡é’ˆã€è§¦æ‘¸æˆ–ç»˜å›¾å¹³æ¿è®¾å¤‡æ—¶æ‰æœ‰æ„ä¹‰ã€‚
  # map_to_output 
}


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                        è‡ªå¯                                         #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

exec fcitx
exec swayidle -w \
         timeout 10 $img_lock \
         timeout 20 'swaymsg "output * dpms off"' \
              resume 'swaymsg "output * dpms on"' \
         before-sleep 'swaylock -f -c 000000' &

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                        Keys                                         #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# æ‰“å¼€ç»ˆç«¯
bindsym $mod+Return workspace $ws1; exec $term

# æ‰“å¼€åº”ç”¨èœå•
bindsym $mod+o exec $menu

# æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨
bindsym $mod+e exec $term -e ranger
bindsym $mod+Shift+e exec nautilus

# å…³é—­é¢æ¿
bindsym $mod+q kill

# æˆªå›¾
bindsym Print exec $screenshot

# å½•å±
bindsym $mod+g workspace $ws0; exec obs

# éŸ³é‡(F1:0,F2:-,F3:+)
bindsym XF86AudioMute exec "amixer set Master toggle && amixer set Speaker on"
bindsym XF86AudioLowerVolume exec amixer set Master playback 5-  
bindsym XF86AudioRaiseVolume exec amixer set Master playback 5+  

# éº¦å…‹é£å¼€å…³(F4)
bindsym XF86AudioMicMute exec "amixer set Capture toggle"

# äº®åº¦(F5:-,F6:+)
#bindsym XF86MonBrightnessDown exec "brightnessctl set 5%-"
#bindsym XF86MonBrightnessUp exec "brightnessctl set +5%"

# é¢æ¿åˆ†å‰²æ–¹å‘
bindsym $mod+v splitv
bindsym $mod+b splith

# é¢æ¿å¸ƒå±€
bindsym $mod+c layout toggle split
bindsym $mod+Shift+v layout stacking
bindsym $mod+Shift+b layout tabbed

# é¢æ¿å…¨å±
bindsym $mod+f fullscreen

# é¢æ¿æ‚¬æµ®|å¹³é“º
bindsym $mod+Shift+space floating toggle

# é¢åŒ…æ‚¬æµ®æ—¶æ”¹å˜ç„¦ç‚¹
bindsym $mod+space focus mode_toggle

# çˆ¶ç„¦ç‚¹
bindsym $mod+a focus parent

# éšè—é¢æ¿
bindsym $mod+Shift+minus move scratchpad

# æ˜¾ç¤ºé¢æ¿
bindsym $mod+minus scratchpad show

# ç§»åŠ¨é¢æ¿ç„¦è·
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right

# ç§»åŠ¨é¢æ¿
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right

# åˆ‡æ¢çª—å£
bindsym $mod+d workspace $wsNULL
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws0

# ç§»åŠ¨é¢ç‰ˆè‡³æŒ‡å®šçª—å£,å¹¶åˆ‡æ¢è‡³æ­¤çª—å£
bindsym $mod+Shift+1 move container to workspace $ws1;workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2;workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3;workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4;workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5;workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6;workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7;workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8;workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9;workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws0;workspace $ws0

# è¿”å›ä¸Šä¸€æ¬¡æ´»åŠ¨çš„çª—å£
workspace_auto_back_and_forth no
bindsym $mod+z workspace back_and_forth
# ç§»åŠ¨é¢æ¿è‡³ä¸Šä¸€æ¬¡æ´»åŠ¨çš„çª—å£
bindsym $mod+Shift+z move container to workspace back_and_forth; workspace back_and_forth

# åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª|ä¸Šä¸€ä¸ªçª—å£
bindsym $mod+period workspace next
bindsym $mod+comma workspace prev


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                        Mode                                         #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# è°ƒæ•´é¢æ¿æ ·å¼
bindsym $mod+m mode "$border_style"
set $border_style (1)none ,(2)normal 0 ,(3)normal 1
mode "$border_style" {
	bindsym 1 border none    , mode "default"
	bindsym 2 border normal 0, mode "default"
	bindsym 3 border normal 1, mode "default"
  bindsym Escape 		         mode "default"
  bindsym $mod+m             mode "default"
}

# sway
bindsym $mod+s mode "$sway"
set $sway (r)eload ,(l)ock ,(b)ar ,(e)xit_Swaywm
mode "$sway" {
  bindsym r reload            ,mode "default"
  bindsym l exec $img_lock    ,mode "default"
  bindsym b bar  mode toggle   ,mode "default"
  bindsym e exec swaymsg exit ,mode "default"
  bindsym Escape 		 mode "default"
  bindsym $mod+s mode "default"
}

# ç³»ç»Ÿ
bindsym $mod+Shift+s mode "$system"
set $system (r)eboot ,(p)oweroff ,(s)uspend(men) ,(h)ibernate(swap)
mode "$system" {
  bindsym r       exec systemctl reboot                 ,mode "default"
  bindsym p       exec systemctl poweroff               ,mode "default"
  bindsym s       exec systemctl suspend && $img_lock   ,mode "default"
  bindsym h       exec systemctl hibernate && $img_lock ,mode "default"
  bindsym Escape 		 mode "default"
  bindsym $mod+Shift+s mode "default"
}

# è°ƒæ•´é¢æ¿å¤§å°
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym $left  resize shrink width  10px
    bindsym $down  resize grow   height 10px
    bindsym $up    resize shrink height 10px
    bindsym $right resize grow   width  10px
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}

# åº”ç”¨èœå•æ ‘
bindsym $mod+grave mode "$app"
set $app (b)rowser ,(w)ps
mode "$app" {
	bindsym b mode "$browser"
	bindsym w mode "$wps"

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+grave mode "default"
}

set $browser (b)ack ,(f)irefox ,(c)hromium
mode "$browser" {
    bindsym b mode "$app"
  	bindsym f workspace $ws3 ;exec firefox ,mode "default"
  	bindsym c workspace $ws3 ;exec chromium ,mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $wps (b)ack ,(w)ork ,(e)xcel ,(p)pt ,(P)df
mode "$wps" {
    bindsym b mode "$app"
  	bindsym w exec wps          ,mode "default"
  	bindsym e exec et     		,mode "default"
  	bindsym p exec wpp    		,mode "default"
  	bindsym Shift+p exec wpspdf ,mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                        Theme                                         #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# Read `man 5 sway-bar` for more information about this section.
bar {
    status_command          i3status -c ~/.config/sway/i3status.conf
    # status_command          i3status -c /etc/i3status.conf
    # å»é™¤çª—å£ç¼–å·
    strip_workspace_numbers yes
    # çŠ¶æ€æ åˆ†éš”ç¬¦ 
    separator_symbol        " "
    position                top
    font pango:             Source Code Pro Medium 12
  	height                  30
  	pango_markup            enabled

    colors {
	    # å­—ä½“é¢œè‰²
      statusline  #292929
	    # èƒŒæ™¯é¢œè‰²
       background #F2EEEDD0
		  # åˆ†éš”ç¬¦é¢œè‰²
      separator   #87CEFA
      #                  è¾¹æ¡†      èƒŒæ™¯      å­—ä½“
	  	# é€‰ä¸­ç¼–å·çª—å£
      focused_workspace  #87CEFA   #87CEFA   #FFFFFF
	  	# æœªé€‰ä¸­ç¼–å·çª—å£
      inactive_workspace #F2EEEDD0 #F2EEEDD0 #292929
	  	# æ´»åŠ¨ç¼–å·çª—å£
      active_workspace   #00FF00   #F2EEEDD0 #FF0000

      urgent_workspace   #FF0000   #FFFFFF77 #FF0000
	  	# æ¨¡å—
      binding_mode       #87CEFA   #87CEFA   #FFFFFF
    }
}

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                Windows Theme                                          #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# çª—å£é—´è·å’Œè¾¹è·
gaps inner 20
gaps outer 0

# éšè—è¾¹æ¡†
#hide_edge_borders both

# çª—å£è¾¹æ¡†å¤§å°(ä¼šå»é™¤æ ‡é¢˜æ )
#default_border pixel 2

# å¯ç”¨é¼ æ ‡æ‹–æ‹½æ‚¬æµ®çª—å£
floating_modifier $mod normal

# æ ‡é¢˜æ å­—ä½“å­—å·
font pango: Source Code Pro Medium 12

# é¢æ¿æ ‡é¢˜æ æ–‡å­—å¯¹é½æ–¹å¼(left|center|right)
title_align center

#						            æ ‡é¢˜æ è¾¹æ¡† æ ‡é¢˜æ èƒŒæ™¯ æ ‡é¢˜æ å­—ä½“ åˆ†è£‚çº¿    è¾¹æ¡†çº¿
# é€‰ä¸­é¢æ¿
client.focused          #FFFFFF      #FFFFFF    #292929    #00FFFF    #00000000
# é€‰ä¸­è¿‡ä½†ç„¦è·ä¸åœ¨æ­¤çš„é¢æ¿
client.focused_inactive #E1E1E1      #F2EEED    #666666    #008888    #00000000
# æœªé€‰ä¸­çš„é¢æ¿
client.unfocused        #E1E1E1      #F2EEED    #666666    #00000000  #00000000

client.urgent           #FF0000      #FF0000    #FFFFFF    #F0000000  #00000000
# å ä½ç¬¦
client.placeholder      #000000      #848484    #FFFFFF    #00000000  #00000000

client.background       #FFFFFF
